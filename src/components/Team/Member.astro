---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

interface Props {
  fullName: string;
  role: string;
  imageUrl: string;
  links: {
    name: string;
    url: string;
  }[];
}
const { fullName, role, imageUrl, links } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/team/*.{jpeg,jpg,png,gif}"
);
if (!images[imageUrl])
  throw new Error(
    `"${imageUrl}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`
  );
---

<div class="text-center group">
  <div class="relative inline-block mb-6">
    <div class="absolute inset-0 bg-gradient-to-r from-primary-500 to-pink-500 rounded-full blur-xl opacity-0 group-hover:opacity-50 transition-opacity duration-300"></div>
    <div class="relative p-1 bg-gradient-to-r from-primary-500 to-pink-500 rounded-full">
      <Image
        class="mx-auto w-36 h-36 rounded-full border-4 border-gray-800 dark:border-gray-800 border-gray-200 transform group-hover:scale-110 transition-transform duration-300"
        src={images[imageUrl]()}
        alt={fullName}
      />
    </div>
  </div>
  <h3 class="mb-2 text-2xl font-bold tracking-tight text-white dark:text-white text-gray-900 group-hover:text-primary-400 dark:group-hover:text-primary-400 group-hover:text-primary-600 transition-colors">
    {fullName}
  </h3>
  <p class="text-sm text-gray-400 dark:text-gray-400 text-gray-700 mb-4">{role}</p>
  <ul class="flex justify-center mt-4 space-x-4">
    {
      links.map((link) => (
        <li>
          <a
            href={link.url}
            target="_blank"
            rel="noopener noreferrer"
            class="text-gray-400 dark:text-gray-400 text-gray-600 hover:text-primary-400 dark:hover:text-primary-400 hover:text-primary-600 transition-colors duration-300 transform hover:scale-110 inline-block"
            aria-label={`${link.name} de ${fullName}`}
          >
            <svg
              class="w-6 h-6"
              xmlns="http://www.w3.org/2000/svg"
              width="1em"
              height="1em"
              viewBox="0 0 24 24"
            >
              <>
                <path
                  fill="currentColor"
                  d="M18.44 3.06H5.56a2.507 2.507 0 0 0-2.5 2.5v12.88a2.507 2.507 0 0 0 2.5 2.5h12.88a2.5 2.5 0 0 0 2.5-2.5V5.56a2.5 2.5 0 0 0-2.5-2.5m1.5 15.38a1.51 1.51 0 0 1-1.5 1.5H5.56a1.51 1.51 0 0 1-1.5-1.5V5.56a1.51 1.51 0 0 1 1.5-1.5h12.88a1.51 1.51 0 0 1 1.5 1.5Z"
                />
                <path
                  fill="currentColor"
                  d="M6.376 10.748a1 1 0 1 1 2 0v6.5a1 1 0 0 1-2 0Z"
                />
                <circle cx="7.376" cy="6.744" r="1" fill="currentColor" />
                <path
                  fill="currentColor"
                  d="M17.62 13.37v3.88a1 1 0 1 1-2 0v-3.88a1.615 1.615 0 1 0-3.23 0v3.88a1 1 0 0 1-2 0v-6.5a1.016 1.016 0 0 1 1-1a.94.94 0 0 1 .84.47a3.61 3.61 0 0 1 5.39 3.15"
                />
              </>
            </svg>
          </a>
        </li>
      ))
    }
  </ul>
</div>
